{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport React from \"react\";\nimport { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { withRouter } from 'next/router';\nimport { Action } from \"../../redux/actions\";\nimport fetch from 'isomorphic-unfetch';\nimport Header from \"../../components/header\";\nimport HeroBanner from \"../../components/herobanner\";\nimport Layout from \"../../components/layout\";\nimport PageHeader from \"../../components/pageheader\";\nimport ArticleHeader from \"../../components/article/article-header\";\nimport ArticleBody from \"../../components/article/article-body\";\nimport styles from \"./Article.scss\";\nimport PropTypes from 'prop-types';\n\nvar Article =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Article, _Component);\n\n  function Article() {\n    _classCallCheck(this, Article);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Article).apply(this, arguments));\n  }\n\n  _createClass(Article, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          router = _this$props.router,\n          article = _this$props.article;\n      var header = article.header;\n      var body = article.body;\n      console.log('article', article);\n      return React.createElement(React.Fragment, null, React.createElement(Header, {\n        router: router\n      }), React.createElement(Layout, null, header && React.createElement(ArticleHeader, {\n        className: styles('article-header'),\n        title: header.title,\n        byline: header.byline,\n        primary_asset: header.primary_asset\n      }), body && React.createElement(ArticleBody, {\n        className: styles('article-body'),\n        items: body.items\n      })));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee(_ref) {\n        var store, req, res, query, isServer, slug, article_res, article_json;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                store = _ref.store, req = _ref.req, res = _ref.res, query = _ref.query;\n                isServer = !!req;\n                slug = query.slug;\n                _context.next = 5;\n                return fetch(\"https://biggica-sites.s3.amazonaws.com/fongs-hung-ga/articles/\".concat(slug, \"/article-data.json\"));\n\n              case 5:\n                article_res = _context.sent;\n                _context.next = 8;\n                return article_res.json();\n\n              case 8:\n                article_json = _context.sent;\n\n                if (!article_json) {\n                  _context.next = 11;\n                  break;\n                }\n\n                return _context.abrupt(\"return\", {\n                  article: article_json.article\n                });\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return Article;\n}(Component); // const mapStateToProps = state => {\n// \treturn {\n// \t\tarticle: state.article\n// \t};\n// };\n// const mapDispatchToProps = dispatch => {\n// \treturn {\n// \t\tfetchArticle(slug) {\n// \t\t\treturn dispatch(Action.fetchArticle(slug));\n// \t\t},\n// \t};\n// };\n\n\n_defineProperty(Article, \"propTypes\", {\n  router: PropTypes.object,\n  article: PropTypes.object\n});\n\n_defineProperty(Article, \"defaultProps\", {\n  article: {}\n});\n\nexport default withRouter(Article);","map":{"version":3,"sources":["/Users/joebiggica/Engineering/Apps/Fongs_Hung_Ga/pages/article/Article.jsx"],"names":["Component","connect","bindActionCreators","withRouter","Action","fetch","Header","HeroBanner","Layout","PageHeader","ArticleHeader","ArticleBody","styles","PropTypes","Article","props","router","article","header","body","console","log","title","byline","primary_asset","items","store","req","res","query","isServer","slug","article_res","json","article_json","object"],"mappings":";;;;;;;;;;AAAA,SAASA,SAAT,QAA0B,OAA1B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,kBAAT,QAAmC,OAAnC;AACA,SAASC,UAAT,QAA2B,aAA3B;AACA,SAASC,MAAT;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,MAAP;AACA,OAAOC,UAAP;AACA,OAAOC,MAAP;AACA,OAAOC,UAAP;AACA,OAAOC,aAAP;AACA,OAAOC,WAAP;AAEA,OAAOC,MAAP;AAEA,OAAOC,SAAP,MAAsB,YAAtB;;IAEMC,O;;;;;;;;;;;;;6BAyBI;AAAA,wBAIJ,KAAKC,KAJD;AAAA,UAEPC,MAFO,eAEPA,MAFO;AAAA,UAGPC,OAHO,eAGPA,OAHO;AAMR,UAAMC,MAAM,GAAGD,OAAO,CAACC,MAAvB;AACA,UAAMC,IAAI,GAAGF,OAAO,CAACE,IAArB;AAEAC,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuBJ,OAAvB;AAEA,aACC,0CACC,oBAAC,MAAD;AAAQ,QAAA,MAAM,EAAED;AAAhB,QADD,EAEC,oBAAC,MAAD,QACEE,MAAM,IACN,oBAAC,aAAD;AACC,QAAA,SAAS,EAAEN,MAAM,CAAC,gBAAD,CADlB;AAEC,QAAA,KAAK,EAAEM,MAAM,CAACI,KAFf;AAGC,QAAA,MAAM,EAAEJ,MAAM,CAACK,MAHhB;AAIC,QAAA,aAAa,EAAEL,MAAM,CAACM;AAJvB,QAFF,EASEL,IAAI,IACJ,oBAAC,WAAD;AACC,QAAA,SAAS,EAAEP,MAAM,CAAC,cAAD,CADlB;AAEC,QAAA,KAAK,EAAEO,IAAI,CAACM;AAFb,QAVF,CAFD,CADD;AAqBA;;;;;;;;;;;;AAvD+BC,gBAAAA,K,QAAAA,K,EAAOC,G,QAAAA,G,EAAKC,G,QAAAA,G,EAAKC,K,QAAAA,K;AAC1CC,gBAAAA,Q,GAAW,CAAC,CAACH,G;AACbI,gBAAAA,I,GAAOF,KAAK,CAACE,I;;uBAEO1B,KAAK,yEAAkE0B,IAAlE,wB;;;AAAzBC,gBAAAA,W;;uBACqBA,WAAW,CAACC,IAAZ,E;;;AAArBC,gBAAAA,Y;;qBAEFA,Y;;;;;iDACI;AACNjB,kBAAAA,OAAO,EAAEiB,YAAY,CAACjB;AADhB,iB;;;;;;;;;;;;;;;;;;;EAVYjB,S,GA4DtB;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;gBAxEMc,O,eAgBc;AAClBE,EAAAA,MAAM,EAAEH,SAAS,CAACsB,MADA;AAElBlB,EAAAA,OAAO,EAAEJ,SAAS,CAACsB;AAFD,C;;gBAhBdrB,O,kBAqBiB;AACrBG,EAAAA,OAAO,EAAE;AADY,C;;AAqDvB,eAAed,UAAU,CAACW,OAAD,CAAzB","sourcesContent":["import { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { bindActionCreators } from 'redux';\nimport { withRouter } from 'next/router';\nimport { Action } from 'actions';\nimport fetch from 'isomorphic-unfetch'\nimport Header from 'components/header';\nimport HeroBanner from 'components/herobanner';\nimport Layout from 'components/layout';\nimport PageHeader from 'components/pageheader';\nimport ArticleHeader from 'components/article/article-header';\nimport ArticleBody from 'components/article/article-body';\n\nimport styles from './Article.scss';\n\nimport PropTypes from 'prop-types';\n\nclass Article extends Component {\n\n\tstatic async getInitialProps ({ store, req, res, query }) {\n\t\tconst isServer = !!req\n\t\tconst slug = query.slug;\n\n\t\tconst article_res = await fetch(`https://biggica-sites.s3.amazonaws.com/fongs-hung-ga/articles/${slug}/article-data.json`)\n\t\tconst article_json = await article_res.json()\n\n\t\tif (article_json) {\n\t\t\treturn {\n\t\t\t\tarticle: article_json.article\n\t\t\t};\n\t\t}\n\t}\n\n\tstatic propTypes = {\n\t\trouter: PropTypes.object,\n\t\tarticle: PropTypes.object\n\t}\n\n\tstatic defaultProps = {\n\t\tarticle: {}\n\t}\n\n\trender() {\n\t\tconst {\n\t\t\trouter,\n\t\t\tarticle\n\t\t} = this.props;\n\n\t\tconst header = article.header;\n\t\tconst body = article.body;\n\n\t\tconsole.log('article', article);\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Header router={router} />\n\t\t\t\t<Layout>\n\t\t\t\t\t{header && \n\t\t\t\t\t\t<ArticleHeader\n\t\t\t\t\t\t\tclassName={styles('article-header')}\n\t\t\t\t\t\t\ttitle={header.title}\n\t\t\t\t\t\t\tbyline={header.byline}\n\t\t\t\t\t\t\tprimary_asset={header.primary_asset}\n\t\t\t\t\t\t/>\n\t\t\t\t\t}\n\t\t\t\t\t{body && \n\t\t\t\t\t\t<ArticleBody \n\t\t\t\t\t\t\tclassName={styles('article-body')}\n\t\t\t\t\t\t\titems={body.items} \n\t\t\t\t\t\t/> \n\t\t\t\t\t}\n\t\t\t\t</Layout>\n\t\t\t</>\n\t\t)\n\t}\n}\n\n// const mapStateToProps = state => {\n// \treturn {\n// \t\tarticle: state.article\n// \t};\n// };\n\n// const mapDispatchToProps = dispatch => {\n// \treturn {\n// \t\tfetchArticle(slug) {\n// \t\t\treturn dispatch(Action.fetchArticle(slug));\n// \t\t},\n// \t};\n// };\n\nexport default withRouter(Article);\n"]},"metadata":{},"sourceType":"module"}